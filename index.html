<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeopardy Clone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .jeopardy-blue { background-color: #060ce9; }
        .jeopardy-text { font-family: 'Anton', sans-serif; color: #ffcc00; }
        .category-text { font-family: 'Anton', sans-serif; }
        .player-card.selected {
            box-shadow: 0 0 15px 5px #ffcc00;
            transform: scale(1.05);
        }
        .question-tile {
            transition: transform 0.2s ease-in-out;
        }
        .question-tile:not(.answered):hover {
            transform: scale(1.05);
            cursor: pointer;
        }
        .question-tile.answered {
            background-color: #373b9e;
            color: #5d61c2;
            cursor: not-allowed;
        }
        .player-name:focus {
            outline: 2px solid #ffcc00;
            background-color: rgba(255, 255, 255, 0.1);
        }
        #player-section.shake {
            animation: shake 0.5s;
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
        /* Custom scrollbar for player list */
        #player-section::-webkit-scrollbar {
            width: 8px;
        }
        #player-section::-webkit-scrollbar-track {
            background: #2d3748; /* Corresponds to bg-gray-800 */
        }
        #player-section::-webkit-scrollbar-thumb {
            background: #4a5568; /* Corresponds to bg-gray-700 */
            border-radius: 4px;
        }
        #player-section::-webkit-scrollbar-thumb:hover {
            background: #718096; /* Corresponds to bg-gray-600 */
        }
    </style>
</head>
<body class="bg-gray-900 text-white">

    <div id="game-container" class="flex flex-col lg:flex-row min-h-screen p-4 gap-4">

        <!-- Main Game Board -->
        <div id="board-section" class="flex-grow grid grid-cols-6 gap-2">
            <!-- Categories and questions will be injected here by JavaScript -->
        </div>

        <!-- Player Scores & Controls -->
        <div id="sidebar" class="w-full lg:w-96 flex-shrink-0 bg-gray-800 p-4 rounded-lg shadow-lg flex flex-col gap-4" style="max-height: 95vh;">
            <h2 class="text-2xl font-bold text-center category-text tracking-wider flex-shrink-0">PLAYERS</h2>
            <div id="player-section" class="grid grid-cols-2 lg:grid-cols-2 gap-2 flex-grow overflow-y-auto pr-2 min-h-0">
                <!-- Player cards will be injected here -->
            </div>
            <button id="reset-game-btn" class="mt-auto w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex-shrink-0">
                Reset Game
            </button>
        </div>

    </div>

    <!-- Question Modal -->
    <div id="question-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center hidden z-50">
        <div class="bg-jeopardy-blue text-white w-11/12 md:w-3/4 lg:w-1/2 max-w-4xl p-8 rounded-lg shadow-2xl text-center border-4 border-gray-900">
            <div id="question-view">
                <p id="modal-category" class="text-2xl category-text mb-4"></p>
                <p id="modal-question" class="text-4xl md:text-5xl jeopardy-text leading-tight"></p>
                <button id="show-answer-btn" class="mt-8 bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-3 px-8 rounded-lg transition-colors text-xl">
                    Show Answer
                </button>
            </div>
            <div id="answer-view" class="hidden">
                <p id="modal-answer" class="text-4xl md:text-5xl jeopardy-text leading-tight"></p>
                <div class="mt-8 flex justify-center gap-4">
                    <button id="correct-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg transition-colors text-xl">
                        Correct
                    </button>
                    <button id="incorrect-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg transition-colors text-xl">
                        Incorrect
                    </button>
                </div>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- GAME DATA ---
            // You can easily customize the categories, questions, and answers here.
            const gameData = [
                {
                    category: "U.S. PRESIDENTS",
                    questions: [
                        { points: 200, question: "He was the only president to serve non-consecutive terms.", answer: "Grover Cleveland" },
                        { points: 400, question: "This president was a licensed bartender.", answer: "Abraham Lincoln" },
                        { points: 600, question: "The 'S' in Harry S. Truman's name stands for this.", answer: "Nothing" },
                        { points: 800, question: "He was the first president born in a hospital.", answer: "Jimmy Carter" },
                        { points: 1000, question: "He signed the act that made 'The Star-Spangled Banner' the national anthem.", answer: "Herbert Hoover" }
                    ]
                },
                {
                    category: "WORLD CAPITALS",
                    questions: [
                        { points: 200, question: "The capital of Australia is not Sydney, but this city.", answer: "Canberra" },
                        { points: 400, question: "This city is the highest capital city in the world.", answer: "La Paz, Bolivia" },
                        { points: 600, question: "This is the only world capital that is also a continent.", answer: "Singapore" },
                        { points: 800, question: "Oslo, the capital of Norway, was known by this name until 1925.", answer: "Kristiania" },
                        { points: 1000, question: "This capital city is split between two continents.", answer: "Istanbul" }
                    ]
                },
                {
                    category: "SCIENCE",
                    questions: [
                        { points: 200, question: "This is the name for the process of a liquid turning into a gas.", answer: "Evaporation" },
                        { points: 400, question: "This planet is known as the 'Red Planet'.", answer: "Mars" },
                        { points: 600, question: "The chemical symbol 'Au' represents this element.", answer: "Gold" },
                        { points: 800, question: "This part of the cell is known as the 'powerhouse'.", answer: "Mitochondria" },
                        { points: 1000, question: "This law of physics states that for every action, there is an equal and opposite reaction.", answer: "Newton's Third Law of Motion" }
                    ]
                },
                {
                    category: "LITERATURE",
                    questions: [
                        { points: 200, question: "'Call me Ishmael' is the opening line of this classic novel.", answer: "Moby Dick" },
                        { points: 400, question: "He wrote 'The Great Gatsby'.", answer: "F. Scott Fitzgerald" },
                        { points: 600, question: "This dystopian novel features the slogan 'War is Peace, Freedom is Slavery, Ignorance is Strength'.", answer: "1984" },
                        { points: 800, question: "In 'The Hobbit', this is the name of the dragon who guards the treasure.", answer: "Smaug" },
                        { points: 1000, question: "She wrote 'Frankenstein' at the age of 18.", answer: "Mary Shelley" }
                    ]
                },
                {
                    category: "MOVIES",
                    questions: [
                        { points: 200, question: "This film won the first-ever Academy Award for Best Picture.", answer: "Wings (1927)" },
                        { points: 400, question: "In 'The Matrix', Neo is offered a choice between a red pill and this color pill.", answer: "A blue pill" },
                        { points: 600, question: "This director is known for his films 'Pulp Fiction' and 'Kill Bill'.", answer: "Quentin Tarantino" },
                        { points: 800, question: "The fictional African country of Wakanda is the setting for this superhero film.", answer: "Black Panther" },
                        { points: 1000, question: "This is the highest-grossing film of all time (unadjusted for inflation).", answer: "Avatar (2009)" }
                    ]
                },
                {
                    category: "POTPOURRI",
                    questions: [
                        { points: 200, question: "This is the number of players on a standard soccer team.", answer: "11" },
                        { points: 400, question: "The fear of spiders is known as this.", answer: "Arachnophobia" },
                        { points: 600, question: "This artist painted the ceiling of the Sistine Chapel.", answer: "Michelangelo" },
                        { points: 800, question: "A sommelier is an expert in this beverage.", answer: "Wine" },
                        { points: 1000, question: "The Great Wall of China was primarily built to protect against invasions from this group.", answer: "The Mongols" }
                    ]
                }
            ];

            // --- GAME STATE ---
            let players = [];
            const MAX_PLAYERS = 16;
            for (let i = 0; i < MAX_PLAYERS; i++) {
                players.push({ id: i, name: `Player ${i + 1}`, score: 0 });
            }

            let currentPlayerId = null;
            let currentQuestionData = null;
            
            // --- DOM ELEMENTS ---
            const boardSection = document.getElementById('board-section');
            const playerSection = document.getElementById('player-section');
            const questionModal = document.getElementById('question-modal');
            const modalCategory = document.getElementById('modal-category');
            const modalQuestion = document.getElementById('modal-question');
            const modalAnswer = document.getElementById('modal-answer');
            const showAnswerBtn = document.getElementById('show-answer-btn');
            const correctBtn = document.getElementById('correct-btn');
            const incorrectBtn = document.getElementById('incorrect-btn');
            const questionView = document.getElementById('question-view');
            const answerView = document.getElementById('answer-view');
            const resetGameBtn = document.getElementById('reset-game-btn');

            // --- FUNCTIONS ---

            function initGame() {
                // Reset game state
                gameData.forEach(cat => cat.questions.forEach(q => q.answered = false));
                players.forEach(p => p.score = 0);
                currentPlayerId = null;
                
                renderBoard();
                renderPlayers();
            }

            function renderBoard() {
                boardSection.innerHTML = '';
                
                // Create category headers
                gameData.forEach(category => {
                    const categoryDiv = document.createElement('div');
                    categoryDiv.className = 'bg-jeopardy-blue flex items-center justify-center text-center p-2 text-white category-text text-xl lg:text-2xl rounded';
                    categoryDiv.textContent = category.category;
                    boardSection.appendChild(categoryDiv);
                });

                // Create question tiles
                for (let i = 0; i < 5; i++) {
                    gameData.forEach((category, catIndex) => {
                        const question = category.questions[i];
                        const tile = document.createElement('div');
                        tile.className = `question-tile jeopardy-blue flex items-center justify-center p-4 rounded text-3xl lg:text-5xl jeopardy-text ${question.answered ? 'answered' : ''}`;
                        tile.textContent = `$${question.points}`;
                        tile.dataset.categoryIndex = catIndex;
                        tile.dataset.questionIndex = i;
                        tile.addEventListener('click', handleTileClick);
                        boardSection.appendChild(tile);
                    });
                }
            }

            function renderPlayers() {
                playerSection.innerHTML = '';
                players.forEach(player => {
                    const card = document.createElement('div');
                    card.className = `player-card p-2 bg-gray-700 rounded-lg text-center transition-transform ${player.id === currentPlayerId ? 'selected' : ''}`;
                    card.dataset.playerId = player.id;
                    card.innerHTML = `
                        <span contenteditable="true" class="player-name text-lg font-bold block rounded px-2 py-1">${player.name}</span>
                        <span class="player-score text-2xl font-bold jeopardy-text mt-1 block">$${player.score}</span>
                    `;
                    playerSection.appendChild(card);
                });
                
                // Add event listeners after rendering
                document.querySelectorAll('.player-card').forEach(card => {
                    card.addEventListener('click', handlePlayerSelect);
                });
                document.querySelectorAll('.player-name').forEach(nameSpan => {
                    nameSpan.addEventListener('blur', handleNameChange);
                });
            }

            function handlePlayerSelect(e) {
                // If the click was on the editable name itself, don't treat it as a player selection.
                if (e.target.classList.contains('player-name')) {
                    return;
                }
                const selectedCard = e.currentTarget;
                const newPlayerId = parseInt(selectedCard.dataset.playerId);

                if (currentPlayerId === newPlayerId) {
                    // Deselect if clicking the same player again
                    currentPlayerId = null;
                } else {
                    currentPlayerId = newPlayerId;
                }
                
                renderPlayers(); // Re-render to update the 'selected' class
            }
            
            function handleNameChange(e) {
                const playerId = parseInt(e.target.closest('.player-card').dataset.playerId);
                const newName = e.target.textContent;
                const player = players.find(p => p.id === playerId);
                if (player) {
                    player.name = newName;
                }
            }

            function handleTileClick(e) {
                if (currentPlayerId === null) {
                    const sidebar = document.getElementById('sidebar');
                    sidebar.classList.add('shake');
                    setTimeout(() => sidebar.classList.remove('shake'), 500);
                    // Optionally, show a more explicit message
                    // alert("Please select a player first!");
                    return;
                }

                const catIndex = e.target.dataset.categoryIndex;
                const qIndex = e.target.dataset.questionIndex;
                currentQuestionData = gameData[catIndex].questions[qIndex];

                if (currentQuestionData.answered) return;

                modalCategory.textContent = gameData[catIndex].category;
                modalQuestion.textContent = currentQuestionData.question;
                modalAnswer.textContent = currentQuestionData.answer;

                questionView.classList.remove('hidden');
                answerView.classList.add('hidden');
                questionModal.classList.remove('hidden');
            }

            function handleAnswer(isCorrect) {
                const points = currentQuestionData.points;
                const player = players.find(p => p.id === currentPlayerId);

                if (isCorrect) {
                    player.score += points;
                } else {
                    player.score -= points;
                }

                currentQuestionData.answered = true;
                
                closeModal();
                renderPlayers();
                renderBoard(); // Re-render board to update answered tile style
            }
            
            function closeModal() {
                questionModal.classList.add('hidden');
                currentQuestionData = null;
            }

            // --- EVENT LISTENERS ---
            showAnswerBtn.addEventListener('click', () => {
                questionView.classList.add('hidden');
                answerView.classList.remove('hidden');
            });
            
            correctBtn.addEventListener('click', () => handleAnswer(true));
            incorrectBtn.addEventListener('click', () => handleAnswer(false));
            
            resetGameBtn.addEventListener('click', () => {
                // Removed the confirm dialog for a smoother hosting experience, as it can be problematic in iframes/screen sharing.
                initGame();
            });

            // Close modal if clicking outside the content
            questionModal.addEventListener('click', (e) => {
                if (e.target === questionModal) {
                    closeModal();
                }
            });


            // --- INITIALIZE ---
            initGame();

        });
    </script>
</body>
</html>



